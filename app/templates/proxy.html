{% extends "base.html" %}

{% block content %}
{% if message %}
<div class="alert alert-{{ message_type }}">{{ message }}</div>
{% endif %}

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header"><strong>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ Linux</strong></div>
            <div class="card-body">
                <div class="form-section">
                    <form action="/set-proxy" method="post">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="proxy_server" class="form-label">–ê–¥—Ä–µ—Å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞</label>
                                <input type="text" class="form-control" id="proxy_server" name="proxy_server" 
                                       value="{{ current_server }}" placeholder="proxy.example.com:8080">
                                <div class="form-text">–§–æ—Ä–º–∞—Ç: hostname:port –∏–ª–∏ ip:port</div>
                            </div>
                            <div class="col-md-6">
                                <label for="proxy_bypass" class="form-label">–ò—Å–∫–ª—é—á–µ–Ω–∏—è</label>
                                <textarea class="form-control" id="proxy_bypass" name="proxy_bypass" 
                                          rows="2" placeholder="localhost;127.0.0.1;192.168.*">{{ current_bypass }}</textarea>
                                <div class="form-text">–ê–¥—Ä–µ—Å–∞ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É —Å –∑–∞–ø—è—Ç–æ–π, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–∫—Å–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è</div>
                            </div>
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è</label>
                                <input type="password" class="form-control" id="password" name="password" required>
                            </div>
                        </div>

                        <div class="btn-group" role="group">
                            <button type="submit" name="action" value="enable" class="btn btn-success">
                                ‚úÖ –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏
                            </button>
                            <button type="submit" name="action" value="disable" class="btn btn-danger">
                                ‚ùå –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏
                            </button>
                            <button type="submit" name="action" value="update" class="btn btn-primary">
                                üîÑ –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                            </button>
                        </div>
                    </form>
                </div>

                <!-- –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div class="proxy-section">
                    <h5>üåê –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏</h5>
                    {{ proxy_html|safe }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}